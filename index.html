<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Agent Tutoring System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        math: '#3b82f6',
                        physics: '#8b5cf6',
                        tutor: '#10b981',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --math-color: #3b82f6;
            --physics-color: '#8b5cf6';
            --tutor-color: '#10b981';
        }
        .message-container {
            display: flex;
            flex-direction: column;
            max-height: 65vh;
            overflow-y: auto;
        }
        .user-message {
            align-self: flex-end;
            background-color: #dbeafe;
            border-radius: 1rem 1rem 0 1rem;
            max-width: 80%;
        }
        .agent-message {
            align-self: flex-start;
            background-color: #f3f4f6;
            border-radius: 1rem 1rem 1rem 0;
            max-width: 80%;
        }
        .math-agent {
            border-left: 4px solid #3b82f6;
        }
        .physics-agent {
            border-left: 4px solid #8b5cf6;
        }
        .tutor-agent {
            border-left: 4px solid #10b981;
        }
        .tool-indicator {
            font-size: 0.75rem;
            background-color: #e5e7eb;
            padding: 0.2rem 0.5rem;
            border-radius: 0.5rem;
            display: inline-block;
        }
        .typing-indicator {
            display: inline-flex;
            align-items: center;
        }
        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #6b7280;
            border-radius: 50%;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        .math-step {
            background-color: #e0f2fe;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin: 0.5rem 0;
            border-left: 3px solid #3b82f6;
        }
        .equation {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            padding: 0.25rem 0.5rem;
            background-color: #f1f5f9;
            border-radius: 0.25rem;
            display: inline-block;
        }
        .solution {
            background-color: #d1fae5;
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            border-left: 3px solid #10b981;
        }
        .physics-concept {
            background-color: #ede9fe;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin: 0.5rem 0;
            border-left: 3px solid #8b5cf6;
        }
        .subject-tag {
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .math-tag {
            background-color: #dbeafe;
            color: #3b82f6;
        }
        .physics-tag {
            background-color: #ede9fe;
            color: #8b5cf6;
        }
        .tutor-tag {
            background-color: #d1fae5;
            color: #10b981;
        }
        .system-diagram {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        @media (min-width: 768px) {
            .system-diagram {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        .agent-card {
            border-radius: 0.75rem;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        .agent-card:hover {
            transform: translateY(-5px);
        }
        .math-card {
            border-top: 4px solid #3b82f6;
        }
        .physics-card {
            border-top: 4px solid #8b5cf6;
        }
        .tutor-card {
            border-top: 4px solid #10b981;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <i class="fas fa-robot text-indigo-600 text-2xl"></i>
                        <span class="ml-2 text-xl font-bold text-gray-900">TutorBot Pro</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#chat" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Chat</a>
                    <a href="#agents" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Agents</a>
                    <a href="#documentation" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Documentation</a>
                </div>
            </极速赛车开奖网
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <i class="fas fa-robot text-indigo-600 text-2xl"></i>
                        <span class="ml-2 text-xl font-bold text-gray-900">TutorBot Pro</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#chat" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Chat</a>
                    <a href="#agents" class="px-3 py-2 rounded-md text极速赛车开奖网
                <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <i class="fas fa-robot text-indigo-600 text-2xl"></i>
                        <span class="ml-2 text-xl font-bold text-gray-900">TutorBot Pro</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#chat" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Chat</a>
                    <a href="#agents" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Agents</a>
                    <a href="#documentation" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600">Documentation</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white">
        <div class="max极速赛车开奖网
        <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl">
                    Advanced Multi-Agent Tutoring
                </h1>
                <p class="mt-6 max-w-lg mx-auto text-xl text-indigo-100">
                    Intelligent tutoring with step-by-step solutions in math and physics
                </p>
                <div class="mt-10 flex justify-center">
                    <a href="#chat" class="flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:极速赛车开奖网
                <div class="mt-10 flex justify-center">
                    <a href="#chat" class="flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50">
                        Try it now
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Interface -->
    <div id="chat" class="py-12 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Interactive Tutor</h2>
                <p class="mt-4 text-lg text-gray-500">
                    Ask questions about math or physics. Our tutor agent will route your query to the appropriate specialist.
                </p>
            </div>
            <div class="mt-8 bg-gray-50 rounded-xl shadow-md overflow-hidden">
                <div class="p-4 bg-gray-800 text-white">
                    <div class="极速赛车开奖网
                    <div class="flex items-center">
                        <div class="h-3 w-3 rounded-full bg-green-400 mr-2"></div>
                        <span class="text-sm font-medium">Tutor Agent is online</span>
                    </div>
                </div>
                <div class="p-4">
                    <div id="chat-messages" class="message-container space-y-4 mb-4 p-4 bg-white rounded-lg h-[400px] overflow-y-auto">
                        <!-- Initial welcome message -->
                        <div class="agent-message p-4 tutor-agent">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-2">
                                    <i class="fas fa-robot text-green-500"></i>
                                </div>
                                <span class="font-medium">Tutor Agent</span>
                                <span class="tutor-tag subject-tag ml-2">Tutor</span>
                            </div>
                            <p>Hello! I'm your AI tutor assistant. I can help with math and physics questions. What would you like to learn today?</p>
                        </div>
                    </div>
                    <div class="flex">
                        <input
                            type="text"
                            id="user-input"
                            placeholder="Ask a math or physics question..."
                            class="flex-1 px-4 py-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                        >
                        <button
                            id="send-btn"
                            class="px-6 py-3 bg-indigo-极速赛车开奖网
                        <button
                            id="send-btn"
                            class="px-6 py-3 bg-indigo-600 text-white font-medium rounded-r-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                        >
                            Send
                        </button>
                    </div>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <button class="example-btn px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200" data-query="Solve 3x - 7 = 14">
                            Solve 3x - 7 = 14
                        </button>
                        <button class="example-btn px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200" data-query="Explain Newton's second law">
                            Newton's Second Law
                        </button>
                        <button class="example-btn px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200" data-query="Solve 2(x + 3) = 10">
                            Solve 2(x + 3) = 10
                        </button>
                        <button class="example-btn px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200" data-query="What is quantum entanglement?">
                            Quantum Entanglement
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Agent Architecture Section -->
    <div id="agents" class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Multi-Agent Architecture</h2>
                <p class="mt-4 text-lg text-gray-500">
                    Our system follows Google's ADK principles with specialized agents and tools
                </p>
            </div>
            <div class="mt-10 system-diagram">
                <!-- Tutor Agent -->
                <div class="agent-card tutor-card bg-white shadow-lg">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-robot text-green-500 text-xl"></极速赛车开奖网
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-robot text-green-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-gray-900">Tutor Agent</h3>
                                <p class="text-sm text-gray-500">Primary interface & router</p>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4">
                            Receives user queries, classifies the subject, and delegates to specialist agents.
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">
                                Intent Classification
                            </span>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">
                                Agent Orchestration
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Math Agent -->
                <div class="agent-card math-card bg-white shadow-lg">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-calculator text-blue-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-gray-900">Math Agent</极速赛车开奖网
                                <h3 class="text-lg font-bold text极速赛车开奖网
                                <h3 class="text-lg font-bold text-gray-900">Math Agent</h3>
                                <p class="text-sm text-gray-500">Mathematics specialist</p>
                            </div>
                        </div>
                        <p class="text极速赛车开奖网
                        <p class="text-gray-600 mb-4">
                            Handles algebra, calculus, geometry, and other math-related questions.
                        </p>
                        <div class="mt-4">
                            <h4 class="font-medium text-gray-900 mb-2">Tools:</h4>
                            <div class="flex items-center mb-2">
                                <div class="w-6 h-6 rounded bg-blue-100 flex items-center justify-center mr-2">
                                    <i class="fas fa-calculator text-blue-500 text-xs"></i>
                                </div>
                                <span>Equation Solver</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded bg-blue-100 flex items-center justify-center mr-2">
                                    <i class="fas fa-square-root-alt text-blue-500 text-xs"></i>
                                </div>
                                <span>Algebra Engine</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Physics Agent -->
                <div class="agent-card physics-card bg-white shadow-lg">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                <i class="fas fa-atom text-purple-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-gray-900">Physics Agent</h3>
                                <p class="text-sm text-gray-500">Physics specialist</p>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4">
                            Handles mechanics, thermodynamics, electromagnetism, and other physics topics.
                        </p>
                        <div class="mt-4">
                            <h4 class="font-medium text-gray-900 mb-2">Tools:</h4>
                            <div class="flex items-center mb-2">
                                <div class="w-6 h-6 rounded bg-purple-100 flex items-center justify-center mr-2">
                                    <i class="fas fa-book text-purple-500 text-xs"></i>
                                </div>
                                <span>Physics Knowledge Base</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded bg-purple-100 flex items-center justify-center mr-2">
                                    <i class="fas fa-ruler-combined text-purple-500 text-xs"></i>
                                </div>
                                <span>Unit Converter</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-12 bg-white rounded-xl shadow-md overflow-hidden">
                <div class="p-6">
                    <h3 class="极速赛车开奖网
                    <h3 class="text-xl font-bold text-gray-900 mb-4">Knowledge Domains</h3>
                    <div class="flex flex-col items-center">
                        <div class="w-full max-w-2xl">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-blue-700 mb-2">Math Knowledge</h4>
                                    <ul class="list-disc pl-5 text-sm text-blue-600">
                                        <li>Algebra & Equations</li>
                                        <li>Calculus & Derivatives</li>
                                        <li>Geometry & Trigonometry</li>
                                        <li>Linear Algebra</极速赛车开奖网
                                        <li>Linear Algebra</li>
                                        <li>Mathematical Proofs</li>
                                    </ul>
                                </div>
                                <div class="bg-purple-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-purple-700 mb-2">Physics Knowledge</h4>
                                    <ul class="list-disc pl-5 text-sm text-purple-600">
                                        <li>Classical Mechanics</li>
                                        <li>Thermodynamics</li>
                                        <li>Electromagnetism</li>
                                        <li>Quantum Physics</li>
                                        <li>Relativity</li>
                                    </ul>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-green-700 mb-2">Problem Solving</h4>
                                    <ul class="list-disc pl-5 text-sm text-green-600">
                                        <li>Step-by-Step Solutions</li>
                                        <li>Concept Explanations</li>
                                        <li>Real-world Applications</li>
                                        <li>Formula Derivation</li>
                                        <li>Verification & Validation</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Documentation Section -->
    <div id="documentation" class="py-12 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-极速赛车开奖网
                <h2 class="text-3xl font-bold text-gray-900">Project Documentation</h2>
                <p class="mt-4 text-lg text-gray-500">
                    Implementation details and deployment information
                </p>
            </div>
            <div class="mt-8 bg-gray-50 rounded-xl shadow-md overflow-hidden">
                <div class="p-6">
                    <h3 class="text-xl font-bold text-gray-900 mb-4">Technical Implementation</h3>
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">Multi-Agent System</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <h5 class="font-semibold text-blue-700 mb-1">Math Agent</h5>
                                    <ul class="list-disc pl-5 text-sm text-blue-600">
                                        <li>Equation parser and solver</li>
                                        <li>Step-by-step algebraic manipulation</li>
                                        <li>Solution verification</li>
                                        <li>Handles linear equations</li>
                                    </ul>
                                </div>
                                <div class="bg-purple-50 p-4 rounded-lg">
                                    <h5 class="font-semibold text-purple-700 mb-1">Physics Agent</h5>
                                    <ul class="list-disc pl-5 text-sm text-purple-600">
                                        <li>Structured knowledge base</li>
                                        <li>Conceptual explanations</li>
                                        <li>Formula application</li>
                                        <li>Problem-solving capabilities</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">Gemini API Integration</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>Natural language processing for query understanding</li>
                                <li>Response generation for complex explanations</li>
                                <li>Secure API key management with environment variables</li>
                            </ul>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mt-8 mb-4">Deployment</h3>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex-1 min-w-[200px] bg-indigo-50 p-极速赛车开奖网
                        <div class="flex-1 min-w-[200px] bg-indigo-50 p-4 rounded-lg">
                            <div class="flex items-center mb-2">
                                <i class="fab fa-vercel text-black text-xl mr-2"></i>
                                <h4极速赛车开奖网
                                <h4 class="font-medium">Vercel</h4>
                            </div>
                            <p class="text-sm text-gray-600">Serverless platform for instant deployment</p>
                        </div>
                        <div class="flex-1 min-w-[200px] bg-gray-100 p-4 rounded-lg">
                            <div class="flex items-center mb-2">
                                <i class="fab fa-github text-gray-800 text-xl mr-2"></i>
                                <h4 class="font-medium">GitHub</h4>
                            </div>
                            <p class="text-sm text-gray-600">Version control and repository hosting</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <a href="#" class="inline-flex items-center text-indigo-600 hover:text-indigo-800">
                            <i class="fab fa-github mr-2"></i>
                            View on GitHub
                        </a>
                        <a href="#" class="inline-flex items-center text-indigo-600 hover:text-indigo-800 ml-6">
                            <i class="fas fa-external-link-alt mr-2"></i>
                            Live Deployment
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="md:flex md:items-center md:justify-between">
                <div class="flex justify-center md:justify-start">
                    <div class="flex items-center">
                        <i class="fas fa-robot text-indigo-400 text-2xl"></i>
                        <span class="ml-2 text-xl font-bold">TutorBot Pro</span>
                    </div>
                </div>
                <div class="mt-8 md:mt-0 md:order-1">
                    <p class="text-center text-base text-gray-400">
                        Multi-Agent Tutoring System - Final Assignment
                    </p>
                </div>
            </div>
            <div class="mt-8 flex justify-center space-x-6">
                <a href="#" class="text-gray-400 hover:text-white">
                    <i class="fab fa-github"></i>
                </a>
                <a href="#" class="text-gray-400 hover:text-white">
                    <i class="fas fa-book"></i>
                </a>
                <a href="#" class="text-gray-400 hover:text-white">
                    <i class="fas fa-info-circle"></极速赛车开奖网
                </a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatMessages = document.getElementById('chat-messages');
            const userInput = document.getElementById('user-input');
            const sendBtn = document.getElementById('send-btn');
            const exampleBtns = document.querySelectorAll('.example-btn');
            
            // Physics knowledge database
            const physicsKnowledgeBase = {
                // Core principles and laws
                principles: {
                    "newton's second law": {
                        name: "Newton's Second Law of Motion",
                        formula: "F = m × a",
                        explanation: "The acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass. The direction of the acceleration is in the direction of the net force.",
                        example: "When you push a shopping cart, the harder you push (force), the faster it accelerates, but a heavier cart (more mass) accelerates less for the same push.",
                        keyPoints: [
                            "Force (F) is measured in Newtons (N)",
                            "极速赛车开奖网
                            "Force (F) is measured in Newtons (N)",
                            "Mass (m) is measured in kilograms (kg)",
                            "Acceleration (a) is measured in meters per second squared (m/s²)"
                        ]
                    },
                    "quantum entanglement": {
                        name: "Quantum Entanglement",
                        explanation: "A phenomenon where two or more particles become linked and instantaneously affect each other's state, regardless of distance. When a property of one particle is measured, the state of the other is immediately determined.",
                        example: "If two entangled electrons are created with opposite spins, measuring one as spin-up instantly means the other is spin-down, even if light-years apart.",
                        implications: [
                            "Challenges classical notions of locality",
                            "Forms basis for quantum computing and cryptography",
                            "Demonstrated experimentally through Bell's theorem tests"
                        ]
                    },
                    "theory of relativity": {
                        name: "Theory of Relativity",
                        types: {
                            "special relativity": {
                                principles: [
                                    "The laws of physics are the same in all inertial frames",
                                    "The speed of light in vacuum is constant for all observers"
                                ],
                                consequences: [
                                    "Time dilation: Moving clocks run slower",
                                    "Length contraction: Objects appear shorter in direction of motion",
                                    "Mass-energy equivalence: E = mc²"
                                ]
                            },
                            "general relativity": {
                                principles: [
                                    "Gravity is the curvature of spacetime by mass and energy",
                                    "Objects follow geodesics (straightest paths) in curved spacetime"
                                ],
                                evidence: [
                                    "Gravitational lensing of light",
                                    "Mercury's perihelion precession",
                                    "Gravitational time dilation (confirmed by GPS systems)"
                                ]
                            }
                        }
                    },
                    "thermodynamics": {
                        laws: [
                            {
                                number: "First Law",
                                statement: "Energy cannot be created or destroyed, only transformed from one form to another (conservation of energy).",
                                formula: "ΔU = Q - W",
                                variables: "Δ极速赛车开奖网
                                formula: "ΔU = Q - W",
                                variables: "ΔU = change in internal energy, Q = heat added, W = work done by system"
                            },
                            {
                                number: "Second Law",
                                statement: "The entropy of an isolated system never decreases. Natural processes tend to move toward a state of greater disorder.",
                                implications: [
                                    "Heat flows spontaneously from hotter to colder bodies",
                                    "Perpetual motion machines are impossible",
                                    "Defines the arrow of time"
                                ]
                            }
                        ]
                    }
                },
                
                // Physical constants
                constants: {
                    "gravitational constant": {
                        symbol: "G",
                        value: "6.67430 × 10⁻¹¹ m³ kg⁻¹ s⁻²",
                        description: "The proportionality constant in Newton's law of universal gravitation."
                    },
                    "speed of light": {
                        symbol: "c",
                        value: "299,792,458 m/s",
                        description: "The speed at which light propagates in a vacuum, a fundamental constant of nature."
                    },
                    "planck constant": {
                        symbol: "h",
                        value: "6.62607015 × 10⁻³⁴ J·s",
                        description: "Relates the energy of a photon to its frequency. Fundamental in quantum mechanics."
                    },
                    "electron mass": {
                        symbol: "mₑ",
                        value: "9.1093837015 × 10⁻³¹ kg",
                        description: "The mass of a stationary electron."
                    }
                },
                
                // Formulas and equations
                formulas: {
                    "kinetic energy": {
                        standard: "KE = ½mv²",
                        variables: "m = mass, v = velocity",
                        explanation: "The energy possessed by an object due to its motion. Proportional to mass and square of velocity."
                    },
                    "gravitational force": {
                        standard: "F = G(m₁m₂)/r²",
                        variables: "G = gravitational constant, m₁, m₂ = masses, r = distance",
                        explanation: "The attractive force between two masses. Governs celestial mechanics and orbital motion."
                    },
                    "energy-mass equivalence": {
                        standard: "E = mc²",
                        variables: "E = energy, m = mass, c = speed of light",
                        explanation: "States that mass and energy are interchangeable. Foundation of nuclear energy."
                    }
                }
            };
            
            // Scroll to bottom of chat
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add message to chat UI
            function addMessageToChat(message, sender, toolUsed = null, constantUsed = null) {
                const messageDiv = document.createElement('div');
                
                if (sender === 'user') {
                    messageDiv.className = 'user-message p-4';
                    messageDiv.innerHTML = `
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
                                <i class="fas fa-user text-blue-500"></i>
                            </div>
                            <span class="font-medium">You</span>
                        </极速赛车开奖网
                        </div>
                        <p>${message}</p>
                    `;
                } 
                else if (sender === 'tutor') {
                    messageDiv.className = 'agent-message p-4 tutor-agent';
                    messageDiv.innerHTML = `
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-2">
                                <i class="fas fa-robot text-green-500"></i>
                            </div>
                            <span class="font-medium">Tutor Agent</span>
                            <span class="tutor-tag subject-tag ml-2">Tutor</span>
                        </div>
                        <p>${message}</p>
                    `;
                }
                else if (sender === 'math') {
                    messageDiv.className = 'agent-message p-4 math-agent';
                    messageDiv.innerHTML = `
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
                                <i class="fas fa-calculator text-blue极速赛车开奖网
                                <i class="fas fa-calculator text-blue-500"></i>
                            </div>
                            <span class="font-medium">Math Agent</span>
                            <span class="math-tag subject-tag ml-2">Math</span>
                            ${toolUsed ? `<span class="tool-indicator ml-2">
                                <i class="fas fa-calculator text-xs mr-1"></i>${toolUsed}
                            </span>` : ''}
                        </div>
                        ${message}
                    `;
                }
                else if (sender === 'physics') {
                    messageDiv.className = 'agent-message p-4 physics-agent';
                    messageDiv.innerHTML = `
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-2">
                                <i class="fas fa-atom text-purple-500"></i>
                            </div>
                            <span class="font-medium">Physics Agent</span>
                            <span class="physics-tag subject-tag ml-2">Physics</span>
                            ${toolUsed ? `<span class="tool-indicator ml-2">
                                <i class="fas fa-toolbox text-xs mr-1"></i>${toolUsed}
                            </span>` : ''}
                        </div>
                        ${message}
                    `;
                }
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Send message function
            function sendMessage() {
                const message = userInput.value.trim();
                if (!message) return;
                
                // Add user message to chat
                addMessageToChat(message, 'user');
                userInput.value = '';
                
                // Process query with Tutor Agent
                processQuery(message);
            }
            
            // Process query with Tutor Agent
            function processQuery(query) {
                // Show typing indicator
                const typingDiv = document.createElement('div');
                typingDiv.className = 'agent极速赛车开奖网
                typingDiv.className = 'agent-message p-4';
                typingDiv.innerHTML = `
                    <div class="flex items-center">
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                        <span class="ml-2 text-gray-500">Tutor Agent is analyzing your question...</span>
                    </div>
                `;
                chatMessages.appendChild(typingDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simulate processing time
                setTimeout(() => {
                    // Remove typing indicator
                    chatMessages.removeChild(typingDiv);
                    
                    // Classify the subject
                    const subject = classifySubject(query);
                    
                    // Route to appropriate agent
                    if (subject === 'math') {
                        routeToMathAgent(query);
                    } else if (subject === 'physics') {
                        routeToPhysicsAgent(query);
                    } else {
                        // General response from Tutor Agent
                        addMessageToChat("I've routed your question to the appropriate specialist agent. Please wait while I process it...", 'tutor');
                        // Default to math if unsure
                        setTimeout(() => routeToMathAgent(query), 1000);
                    }
                }, 1500);
            }
            
            // Classify the subject of the query
            function classifySubject(query) {
                const lowerQuery = query.toLowerCase();
                
                // Check for math-related keywords
                const mathKeywords = ['math', 'algebra', 'geometry', 'calculus', 'equation', 'solve', 'calculate', 'formula', 'x=', 'y=', 'number', 'integral', 'derivative'];
                if (mathKeywords.some(keyword => lowerQuery.includes(keyword))) {
                    return 'math';
                }
                
                // Check for physics-related keywords
                const physicsKeywords = ['physics', 'newton', 'quantum', 'entanglement', 'law', 'thermodynamics', 'force', 'velocity', 'acceleration', 'energy', 'particle'];
                if (physicsKeywords.some(keyword => lowerQuery.includes(keyword))) {
                    return 'physics';
                }
                
                // Check for equations or calculations
                if (/\d+[\+\-\*\/]\d+/.test(lowerQuery) || /solve for [a-z]/.test(lowerQuery)) {
                    return 'math';
                }
                
                // Check for physics concepts
                if (lowerQuery.includes('law of') || lowerQuery.includes('constant')) {
                    return 'physics';
                }
                
                return 'unknown';
            }
            
            // Route to Math Agent
            function routeToMathAgent(query) {
                // Show routing message
                addMessageToChat(`I see this is a math question. Routing to Math Agent...`, 'tutor');
                
                // Show typing indicator for Math Agent
                const mathTypingDiv = document.createElement('div');
                mathTypingDiv.className = 'agent-message p-4';
                mathTypingDiv.innerHTML = `
                    <div class="flex items-center">
                        <div class="typing-indicator">
                            <div class极速赛车开奖网
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                        <span class="ml-2 text-gray-500">Math Agent is processing your question...</span>
                    </div>
                `;
                chatMessages.appendChild(mathTypingDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simulate processing time
                setTimeout(() => {
                    // Remove typing indicator
                    chatMessages.removeChild(mathTypingDiv);
                    
                    // Process with Math Agent
                    const [response, toolUsed, calculation] = mathAgentResponse(query);
                    addMessageToChat(response, 'math', toolUsed, calculation);
                }, 2000);
            }
            
            // Math Agent response logic
            function mathAgentResponse(query) {
                const lowerQuery = query.toLowerCase();
                let response = '';
                let toolUsed = null;
                let calculation = null;
                
                // Equation solving
                if (lowerQuery.includes('solve') || lowerQuery.includes('=')) {
                    toolUsed = 'Equation Solver';
                    
                    // Extract equation
                    let equation = '';
                    if (lowerQuery.includes('solve')) {
                        equation = query.split('solve')[1].trim();
                    } else {
                        equation = query;
                    }
                    
                    // Solve the equation
                    const solution = solveEquation(equation);
                    response = solution;
                } 
                // Area calculation
                else if (lowerQuery.includes('area')) {
                    toolUsed = 'Calculator';
                    
                    if (lowerQuery.includes('circle')) {
                        const radiusMatch = query.match(/\d+/);
                        const radius = radiusMatch ? parseInt(radiusMatch[0]) : 1;
                        const area = (Math.PI * radius * radius).toFixed(2);
                        response = `The area of a circle with radius ${radius} is calculated as π × r² = ${area}`;
                        calculation = `Calculation: π × ${radius}² ≈ 3.1416 × ${radius*radius} = ${area}`;
                    } else if (lowerQuery.includes('rectangle')) {
                        const dims = query.match(/\d+/g);
                        if (dims && dims.length >= 2) {
                            const area = parseInt(dims[0]) * parseInt(dims[1]);
                            response = `The area of a rectangle ${dims[0]}×${dims[1]} is ${area}`;
                            calculation = `Calculation: ${dims[0]} × ${dims[1]} = ${area}`;
                        } else {
                            response = `Please provide dimensions for the rectangle.`;
                        }
                    } else {
                        response = `I can help with area calculations for circles, rectangles, and triangles.`;
                    }
                } 
                // Pythagorean theorem
                else if (lowerQuery.includes('pythagorean')) {
                    response = `The Pythagorean theorem states that in a right-angled triangle, the square of the hypotenuse is equal to the sum of the squares of the other two sides: a² + b² = c²`;
                } 
                // Default math response
                else {
                    response = `Math Agent: I've processed your math question about "${query}". Here's a detailed explanation...`;
                }
                
                return [response, toolUsed, calculation];
            }
            
            // Equation solver with step-by-step solution
            function solveEquation(equationStr) {
                // Extract equation from string
                let equation = equationStr.toLowerCase().replace('solve', '').trim();
                
                // If equation doesn't contain '=', assume it's an expression to solve
                if (!equation.includes('=')) {
                    return "Math Agent: Please provide an equation with an equals sign (e.g., 3x - 7 = 14).";
                }
                
                // Parse equation
                let [leftSide, rightSide] = equation.split('=').map(side => side.trim());
                
                // Clean up equation (remove spaces, handle negative, etc.)
                leftSide = leftSide.replace(/\s/g, '');
                rightSide = rightSide.replace(/\s/g, '');
                
                // Solve equation
                try {
                    // For simple linear equations like "3x - 7 = 14"
                    if (leftSide.includes('x') && !isNaN(parseFloat(rightSide))) {
                        // Extract coefficient and constant (simplified logic for demo)
                        // This is a simple regex-based extractor for "ax + b" or "ax - b" forms
                        const parts = leftSide.split(/([+-])/);
                        let coefficient = 0;
                        let constant = 0;
                        let currentPart = '';
                        let sign = 1;
                        for (let i = 0; i < parts.length; i++) {
                            const part = parts[i];
                            if (part === '+' || part === '-') {
                                // Finish previous part
                                if (currentPart.includes('x')) {
                                    coefficient += sign * (currentPart === 'x' ? 1 : parseFloat(currentPart.replace('x', '')));
                                } else if (currentPart) {
                                    constant += sign * parseFloat(currentPart);
                                }
                                // Reset for next part
                                currentPart = '';
                                sign = part === '+' ? 1 : -1;
                            } else if (part) {
                                currentPart += part;
                            }
                        }
                        // Finish last part
                        if (currentPart.includes('x')) {
                            coefficient += sign * (currentPart === 'x' ? 1 : parseFloat(currentPart.replace('x', '')));
                        } else if (currentPart) {
                            constant += sign * parseFloat(currentPart);
                        }
                        
                        const rightValue = parseFloat(rightSide);
                        
                        // Move constant to the other side
                        const newRight = rightValue - constant;
                        
                        // Divide by coefficient
                        const solution = newRight / coefficient;
                        
                        // Format the solution steps
                        let solutionHTML = `<p class="text-lg font-medium mb-3">Solving: <span class="equation">${equation}</span></p>`;
                        
                        solutionHTML += `
                        <div class="math-step">
                            <p class="font-medium text-sm text-gray-700">Step 1: Move constant to the other side</p>
                            <p class="equation my-2">${coefficient}x = ${rightValue} ${constant >= 0 ? '-' : '+'} ${Math.abs(constant)}</p>
                        </div>
                        <div class="math-step">
                            <p class="font-medium text-sm text-gray-700">Step 2: Simplify</p>
                            <p class="equation my-2">${coefficient}x = ${newRight}</p>
                        </div>
                        <div class="math-step">
                            <p class="font-medium text-sm text-gray-700">Step 3: Divide both sides by ${coefficient}</p>
                            <p class="equation my-2">x = ${newRight} / ${coefficient}</p>
                        </div>
                        <div class="solution">
                            <p class="font-semibold">Solution: <span class="equation">x = ${solution}</span></p>
                            <p class="mt-2 text-sm">Verification: Plugging back into original equation:</p>
                            <p class="equation mt-1">${leftSide.replace(/x/g, solution)} = ${rightSide.replace(/x/g, solution)}</p>
                            <p class="mt-2 text-green-600 font-medium">Both sides are equal! Solution is correct.</p>
                        </div>
                        `;
                        
                        return solutionHTML;
                    }
                    
                    // Fallback if we couldn't solve
                    return `Math Agent: I've processed your math question about "${equationStr}". Here's a detailed explanation...`;
                } catch (e) {
                    return `<p>Math Agent: I encountered an error solving this equation. Please make sure it's a valid linear equation.</p>`;
                }
            }
            
            // Route to Physics Agent
            function routeToPhysicsAgent(query) {
                // Show routing message
                addMessageToChat(`I see this is a physics question. Routing to Physics Agent...`, 'tutor');
                
                // Show typing indicator for Physics Agent
                const physicsTypingDiv = document.createElement('div');
                physicsTypingDiv.className = 'agent-message p-4';
                physicsTypingDiv.innerHTML = `
                    <div class="flex items-center">
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                        <span class="ml-2 text-gray-500">Physics Agent is processing your question...</span>
                    </div>
                `;
                chatMessages.appendChild(physicsTypingDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simulate processing time
                setTimeout(() => {
                    // Remove typing indicator
                    chatMessages.removeChild(physicsTypingDiv);
                    
                    // Process with Physics Agent
                    const [response, toolUsed, constantUsed] = physicsAgentResponse(query);
                    addMessageToChat(response, 'physics', toolUsed, constantUsed);
                }, 2000);
            }
            
            // Physics Agent response logic
            function physicsAgentResponse(query) {
                const lowerQuery = query.toLowerCase();
                let response = '';
                let toolUsed = null;
                let constantUsed = null;
                
                // Check for known concepts
                if (lowerQuery.includes('newton') && (lowerQuery.includes('second') || lowerQuery.includes('2'))) {
                    toolUsed = 'Physics Knowledge Base';
                    const concept = physicsKnowledgeBase.principles["newton's second law"];
                    return [`<p class="text-lg font-medium mb-3">${concept.name}</p>
                        <div class="physics-concept">
                            <p class="font-medium">Formula: <span class="equation">${concept.formula}</span></p>
                            <p class="mt-2">${concept.explanation}</p>
                            <p class="mt-3 font-medium">Example:</p>
                            <p>${concept.example}</p>
                            <div class="mt-3">
                                <p class="font-medium">Key Points:</p>
                                <ul class="list-disc pl-5 mt-1">
                                    ${concept.keyPoints.map(point => `<li>${point}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    `, toolUsed, constantUsed];
                }
                else if (lowerQuery.includes('quantum entanglement')) {
                    toolUsed = 'Physics Knowledge Base';
                    const concept = physicsKnowledgeBase.principles["quantum entanglement"];
                    return [`<p class="text-lg font-medium mb-3">${concept.name}</p>
                        <div class="physics-concept">
                            <p>${concept.explanation}</p>
                            <p class="mt-3 font-medium">Example:</p>
                            <p>${concept.example}</p>
                            <div class="mt-3">
                                <p class="font-medium">Implications:</p>
                                <ul class="list-disc pl-5 mt极速赛车开奖网
                                <ul class="list-disc pl-5 mt-1">
                                    ${concept.implications.map(point => `<li>${point}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    `, toolUsed, constantUsed];
                }
                else if (lowerQuery.includes('relativity')) {
                    toolUsed = 'Physics Knowledge Base';
                    const concept = physicsKnowledgeBase.principles["theory of relativity"];
                    return [`<p class="text-lg font-medium mb-3">Theory of Relativity</p>
                        <div class="physics-concept">
                            <p class="font-medium mb-2">Special Relativity:</p>
                            <ul class="list-disc pl-5 mb-3">
                                <li>${concept.types["special relativity"].principles[0]}</li>
                                <li>${concept.types["special relativity"].principles[1]}</li>
                            </ul>
                            <p class="font-medium">Consequences:</p>
                            <ul class="list-disc pl-5 mb-4">
                                ${concept.types["special relativity"].consequences.map(point => `<li>${point}</li>`).join('')}
                            </ul>
                            
                            <p class="font-medium mb-2">General Relativity:</p>
                            <ul class="list-disc pl-5 mb-3">
                                <li>${concept.types["general relativity"].principles[0]}</li>
                                <li>${concept.types["general relativity"].principles[1]}</li>
                            </ul>
                            <p class="font-medium">Experimental Evidence:</p>
                            <ul class="list-disc pl-5">
                                ${concept.types["general relativity"].evidence.map(point => `<li>${point}</li>`).join('')}
                            </ul>
                        </div>
                    `, toolUsed, constantUsed];
                }
                else if (lowerQuery.includes('thermodynamics')) {
                    toolUsed = 'Physics Knowledge Base';
                    const laws = physicsKnowledgeBase.principles.thermodynamics.laws;
                    return [`<p class极速赛车开奖网
                    return [`<p class="text-lg font-medium mb-3">Laws of Thermodynamics</p>
                        <div class="physics-concept">
                            ${laws.map(law => `
                                <div class="mb-4">
                                    <p class="font-medium">${law.number} Law:</p>
                                    <p>${law.statement}</p>
                                    ${law.formula ? `<p class="mt-1 font-medium">Formula: <span class="equation">${law.formula}</span></p>` : ''}
                                    ${law.variables ? `<p class="text-sm mt-1">Where: ${law.variables}</p>` : ''}
                                    ${law.implications ? `
                                        <div class="mt-2">
                                            <p class="font-medium">Implications:</p>
                                            <ul class="list-disc pl-5">
                                                ${law.implications.map(point => `<li>${point}</li>`).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </div>
                    `, toolUsed, constantUsed];
                }
                else if (lowerQuery.includes('constant')) {
                    toolUsed = 'Constants Lookup';
                    
                    // Find matching constant
                    const constantKey = Object.keys(physicsKnowledgeBase.constants).find(key => 
                        lowerQuery.includes(key)
                    );
                    
                    if (constantKey) {
                        const constant = physicsKnowledgeBase.constants[constantKey];
                        return [`<p class="text-lg font-medium mb-3">${constantKey.charAt(0).toUpperCase() + constantKey.slice(1)}</p>
                            <div class="physics-concept">
                                <p class="font-medium">Symbol: <span class="equation">${constant.symbol}</span></p>
                                <p class="mt-2 font-medium">Value: <span class="equation">${constant.value}</span></p>
                                <p class="mt-2">${constant.description}</p>
                            </div>
                        `, toolUsed, constantUsed];
                    } else {
                        return [`<p>Physics Agent: I have information on these constants:</p>
                            <ul class="list-disc pl-5 mt-2">
                                ${Object.keys(physicsKnowledgeBase.constants).map(constant => 
                                    `<li>${constant.charAt(0).toUpperCase() + constant.slice(1)}</li>`
                                ).join('')}
                            </ul>
                            <p class="mt-2">Which constant are you interested in?</p>
                        `, toolUsed, constantUsed];
                    }
                }
                else {
                    return [`<p>Physics Agent: I've analyzed your question about "${query}".</p>
                        <div class="physics-concept mt-3">
                            <p>I have knowledge in these physics domains:</p>
                            <ul class="list-disc pl-5 mt-2">
                                <li>Classical mechanics (Newton's laws, motion, forces)</li>
                                <li>Thermodynamics and heat transfer</li>
                                <li>Electromagnetism and circuits</li>
                                <li>Optics and wave phenomena</li>
                                <li>Quantum mechanics and modern physics</li>
                                <li>Relativity and cosmology</li>
                            </ul>
                            <p class="mt-2">Please try to be more specific with your question!</p>
                        </div>
                    `, null, null];
                }
            }
            
            // Event listeners
            sendBtn.addEventListener('click', sendMessage);
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            exampleBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    userInput.value = this.dataset.query;
                    sendMessage();
                });
            });
        });
    </script>
</body>
</html>
